{"ast":null,"code":"var _jsxFileName = \"D:\\\\repos\\\\restaurant-reviews\\\\frontend\\\\src\\\\components\\\\restaurants.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport RestaurantDataService from \"../services/restaurant\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Restaurant() {\n  _s();\n\n  const params = useParams();\n  const initialRestaurantState = {\n    id: null,\n    name: \"\",\n    address: {},\n    cuisine: \"\",\n    reviews: []\n  };\n  const [restaurant, setRestaurant] = useState(initialRestaurantState);\n\n  const getRestaurant = id => {\n    RestaurantDataService.get(id).then(response => {\n      setRestaurant(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    getRestaurant(params.id);\n  }, [params.id]);\n\n  const deleteReview = (reviewId, index) => {\n    RestaurantDataService.deleteReview(reviewId).then(response => {\n      setRestaurant(prevState => {\n        prevState.reviews.splice(index, 1);\n        return { ...prevState\n        };\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: restaurant ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: restaurant.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Cuisine: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), restaurant.cuisine, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 67\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Address: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), restaurant.address.building, \" \", restaurant.address.street]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Restaurant, \"iFlKzswaXcmgqUo6QMZyFOSnvo0=\", false, function () {\n  return [useParams];\n});\n\n_c = Restaurant;\nexport default Restaurant;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restaurant\");","map":{"version":3,"names":["React","useState","useEffect","RestaurantDataService","Link","useParams","Restaurant","params","initialRestaurantState","id","name","address","cuisine","reviews","restaurant","setRestaurant","getRestaurant","get","then","response","data","console","log","catch","e","deleteReview","reviewId","index","prevState","splice","building","street"],"sources":["D:/repos/restaurant-reviews/frontend/src/components/restaurants.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport RestaurantDataService from \"../services/restaurant\";\r\nimport {Link, useParams} from \"react-router-dom\";\r\n\r\nfunction Restaurant() {\r\n    const params = useParams();\r\n    const initialRestaurantState = {\r\n        id: null,\r\n        name: \"\",\r\n        address: {},\r\n        cuisine: \"\",\r\n        reviews: []\r\n    };\r\n\r\n    const [restaurant, setRestaurant] = useState(initialRestaurantState);\r\n\r\n    const getRestaurant = id => {\r\n        RestaurantDataService.get(id)\r\n            .then(response => {\r\n                setRestaurant(response.data);\r\n                console.log(response.data);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getRestaurant(params.id);\r\n    }, [params.id]);\r\n\r\n    const deleteReview = (reviewId, index) => {\r\n        RestaurantDataService.deleteReview(reviewId)\r\n            .then(response => {\r\n                setRestaurant((prevState) => {\r\n                    prevState.reviews.splice(index, 1);\r\n                    return({ ...prevState });\r\n                })\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    };\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n        {restaurant ? (\r\n            <div>\r\n                <h5>{restaurant.name}</h5>\r\n                <p>\r\n                    <strong>Cuisine: </strong>{restaurant.cuisine}<br />\r\n                    <strong>Address: </strong>{restaurant.address.building} {restaurant.address.street}\r\n                </p>\r\n            </div>\r\n        ) : (\r\n            <div>\r\n                    <br />\r\n                    <p></p>\r\n            </div>\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Restaurant;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,qBAAP,MAAkC,wBAAlC;AACA,SAAQC,IAAR,EAAcC,SAAd,QAA8B,kBAA9B;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EAClB,MAAMC,MAAM,GAAGF,SAAS,EAAxB;EACA,MAAMG,sBAAsB,GAAG;IAC3BC,EAAE,EAAE,IADuB;IAE3BC,IAAI,EAAE,EAFqB;IAG3BC,OAAO,EAAE,EAHkB;IAI3BC,OAAO,EAAE,EAJkB;IAK3BC,OAAO,EAAE;EALkB,CAA/B;EAQA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAACO,sBAAD,CAA5C;;EAEA,MAAMQ,aAAa,GAAGP,EAAE,IAAI;IACxBN,qBAAqB,CAACc,GAAtB,CAA0BR,EAA1B,EACKS,IADL,CACUC,QAAQ,IAAI;MACdJ,aAAa,CAACI,QAAQ,CAACC,IAAV,CAAb;MACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB;IACH,CAJL,EAKKG,KALL,CAKWC,CAAC,IAAI;MACRH,OAAO,CAACC,GAAR,CAAYE,CAAZ;IACH,CAPL;EAQH,CATD;;EAWAtB,SAAS,CAAC,MAAM;IACZc,aAAa,CAACT,MAAM,CAACE,EAAR,CAAb;EACH,CAFQ,EAEN,CAACF,MAAM,CAACE,EAAR,CAFM,CAAT;;EAIA,MAAMgB,YAAY,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;IACtCxB,qBAAqB,CAACsB,YAAtB,CAAmCC,QAAnC,EACKR,IADL,CACUC,QAAQ,IAAI;MACdJ,aAAa,CAAEa,SAAD,IAAe;QACzBA,SAAS,CAACf,OAAV,CAAkBgB,MAAlB,CAAyBF,KAAzB,EAAgC,CAAhC;QACA,OAAO,EAAE,GAAGC;QAAL,CAAP;MACH,CAHY,CAAb;IAIH,CANL,EAOKL,KAPL,CAOWC,CAAC,IAAI;MACRH,OAAO,CAACC,GAAR,CAAYE,CAAZ;IACH,CATL;EAUH,CAXD;;EAeF,oBACE;IAAA,UACKV,UAAU,gBACP;MAAA,wBACI;QAAA,UAAKA,UAAU,CAACJ;MAAhB;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,EAC+BI,UAAU,CAACF,OAD1C,eACkD;UAAA;UAAA;UAAA;QAAA,QADlD,eAEI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ,EAE+BE,UAAU,CAACH,OAAX,CAAmBmB,QAFlD,OAE6DhB,UAAU,CAACH,OAAX,CAAmBoB,MAFhF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADO,gBASP;MAAA,wBACQ;QAAA;QAAA;QAAA;MAAA,QADR,eAEQ;QAAA;QAAA;QAAA;MAAA,QAFR;IAAA;MAAA;MAAA;MAAA;IAAA;EAVR;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD;;GA5DQzB,U;UACUD,S;;;KADVC,U;AA8DT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}